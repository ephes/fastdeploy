name: Deploy on Push
# Temporarily disabled - service token needs to be renewed
on:
  workflow_dispatch:  # Only run manually
# on: [push]  # Disabled automatic deployment
jobs:
  deployment:
    runs-on: ubuntu-latest
    steps:
      - name: Make Deploy Request
        id: deployRequest
        uses: fjogeleit/http-request-action@master
        with:
          url: 'https://deploy.staging.wersdoerfer.de/deployments/'
          method: 'POST'
          bearerToken: ${{ secrets.SERVICE_TOKEN }}
          timeout: 10000
      - name: Show Deploy Request Response
        run: echo ${{ steps.deployRequest.outputs.response }}
